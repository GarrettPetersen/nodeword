<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Nodeword: Re-Arrange words to solve the graph.">
    <meta property="og:title" content="Nodeword">
    <meta property="og:description" content="An online word game. Click two circles to swap them. Fill all diamonds to win.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://nodeword.com/">
    <meta property="og:image" content="/social-preview.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Nodeword">
    <meta name="twitter:description" content="An online word game. Click two circles to swap them. Fill all diamonds to win.">
    <meta name="twitter:image" content="/social-preview.png">
    <title>Nodeword</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/d3@7" defer></script>
  </head>
  <body>
    <main id="app" role="main">
      <h1>Nodeword</h1>
      <p class="tagline">Click two circles to swap them. Fill all diamonds to win.</p>
      <div id="levelIndicator" class="level" aria-live="polite"></div>
      <div class="actions">
        <button class="primary" id="nextBtn">Next puzzle</button>
        <button class="primary" id="shareBtn" style="display: none;">Share</button>
        <button class="primary" id="statsBtn" style="position: fixed; top: 12px; right: 12px; z-index: 10;">Info</button>
      </div>
      <section id="puzzle" aria-live="polite"></section>
      <div id="status" aria-live="polite"></div>
      <footer class="site-footer">
        Nodeword was created by
        <a href="https://x.com/GarrettPetersen" target="_blank" rel="noopener">@GarrettPetersen</a>.
        Also check out
        <a href="https://connecdoku.com" target="_blank" rel="noopener">Connecdoku</a>!
      </footer>

      <div id="consent" class="consent" role="dialog" aria-live="polite" aria-modal="true" hidden>
        <div class="consent-card">
          <p>We use a cookie to remember your progress and stats.</p>
          <div class="consent-actions">
            <button class="primary" id="acceptConsent">Accept</button>
            <button id="declineConsent">Decline</button>
          </div>
        </div>
      </div>

      <div id="statsModal" class="modal" role="dialog" aria-modal="true" hidden>
        <div class="modal-card">
          <h3>Info</h3>
          <section aria-labelledby="howto-heading" style="margin-bottom: 12px;">
            <h4 id="howto-heading" style="margin: 0 0 8px;">How to play</h4>
            <ul style="margin: 0 0 12px 18px;">
              <li>Click two different word circles to swap their positions.</li>
              <li>Every word belongs to one or more hidden categories.</li>
              <li>When all words connected to a diamond share a category, the diamond reveals that category’s emoji and fills with its color.</li>
              <li>Complete all diamonds to solve the puzzle.</li>
              <li>After each solve, the “Next puzzle” button appears to take you to the next level. The next puzzle has one additional word (to a maximum of 12).</li>
              <li>Levels reset daily at midnight.</li>
            </ul>
            <p>Tip: Drag diamonds to rearrange them, making connections easier to see.</p>
          </section>
          <section aria-labelledby="stats-heading">
            <h4 id="stats-heading" style="margin: 0 0 8px;">Your stats</h4>
            <ul style="margin: 0 0 0 18px;">
              <li>Total solved: <span id="statTotal">0</span></li>
              <li>Solved today: <span id="statToday">0</span></li>
              <li>Best day: <span id="statBest">0</span></li>
            </ul>
          </section>
          <div class="modal-actions">
            <button class="primary" id="closeStats">Close</button>
          </div>
        </div>
      </div>

      <div id="shareModal" class="modal" role="dialog" aria-modal="true" hidden>
        <div class="modal-card">
          <h3>Share</h3>
          <pre id="shareText" class="share-preview" aria-live="polite"></pre>
          <label style="display: flex; align-items: center; gap: 8px; margin-top: 8px;">
            <input type="checkbox" id="includeLink" checked>
            Include link to nodeword.com
          </label>
          <div class="modal-actions">
            <button class="primary" id="copyShare">Copy to clipboard</button>
            <button id="closeShare">Close</button>
          </div>
        </div>
      </div>
    </main>

    <script src="/main.js" defer></script>
  </body>
  </html>


